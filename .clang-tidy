---
# AuraIO clang-tidy configuration
#
# Suppressed checks:
# - DeprecatedOrUnsafeBufferHandling: glibc does not implement C11 Annex K
#   (memset_s/memcpy_s), and all our calls use compile-time-known or validated sizes.
# - Padding: struct padding is intentional — adaptive_controller_t uses aligned(64)
#   to prevent false sharing, ring_ctx_t layout follows cache-line grouping.
# - BlockInCriticalSection: false positive on drain_eventfd() — the analyzer can't
#   track ring_unlock() through the conditional single_thread wrapper, so it thinks
#   a mutex from an earlier loop iteration is still held. All drain_eventfd() callers
#   invoke it outside any critical section.

Checks: >
  -*,
  clang-analyzer-*,
  -clang-analyzer-security.insecureAPI.DeprecatedOrUnsafeBufferHandling,
  -clang-analyzer-optin.performance.Padding,
  -clang-analyzer-unix.BlockInCriticalSection

HeaderFilterRegex: 'include/auraio/.*|src/.*'
